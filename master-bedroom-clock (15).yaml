esphome:
  name: bedroom-clock
  friendly_name: Bedroom Clock
  platformio_options:
    board_upload.maximum_ram_size: 524288
    build_unflags: -Werror=all
    board_build.flash_mode: dio

  on_boot:
    priority: -100
    then:
      - delay: 5s
      - lambda: |-
          // Force Weather Icons
          id(day0_cond).publish_state(id(day0_cond).state);
          id(day1_cond).publish_state(id(day1_cond).state);
          id(day2_cond).publish_state(id(day2_cond).state);
          id(current_cond).publish_state(id(current_cond).state);
          
          // Force Temps to draw immediately
          auto set_temp = [&](lv_obj_t* label, float hi, float lo) {
            if (std::isnan(hi) || std::isnan(lo)) {
              lv_label_set_text(label, "-- / --");
              return;
            }
            char buffer[20];
            sprintf(buffer, "%.0f°/%.0f°", hi, lo);
            lv_label_set_text(label, buffer);
          };
          set_temp(id(day0_temp), id(day0_high).state, id(day0_low).state);
          set_temp(id(day1_temp), id(day1_high).state, id(day1_low).state);
          set_temp(id(day2_temp), id(day2_high).state, id(day2_low).state);

psram:
  mode: octal
  speed: 80MHz

esp32:
  variant: esp32s3
  flash_size: 8MB
  cpu_frequency: 240MHz
  framework:
    type: esp-idf

api:
  reboot_timeout: 0s
  encryption:
    key: "tZwVZvSvrduX/R85XQdmGMdxMaXBCP/I8wiBmqM8gkY="

logger:
  hardware_uart: UART0

wifi:
  networks:
    - ssid: !secret wifi_ssid
      password: !secret wifi_password
  manual_ip:
    static_ip: 192.168.1.192
    gateway: 192.168.1.1
    subnet: 255.255.255.0

ota:
  platform: esphome
  password: !secret ota_password

i2c:
  sda: GPIO08
  scl: GPIO09
  scan: True
  id: bus_a

ch422g:
  - id: ch422g_hub

output:
  - platform: gpio
    id: lcdbacklight_output
    pin:
      ch422g: ch422g_hub
      number: 2
      mode:
        output: true
      inverted: false

light:
  - platform: binary
    output: lcdbacklight_output
    id: lcdbacklight
    name: LCD Backlight
    icon: mdi:wall-sconce-flat-outline
    disabled_by_default: true
    restore_mode: ALWAYS_ON
    on_turn_off:
      - script.execute: start_antiburn
    on_turn_on:
      - script.execute: stop_antiburn

script:
  - id: start_antiburn
    then:
      - delay: 5min
      - logger.log: Starting automatic antiburn.
      - switch.turn_on: switch_antiburn
  - id: stop_antiburn
    then:
      - script.stop: start_antiburn
      - switch.turn_off: switch_antiburn

switch:
  - platform: template
    name: Antiburn
    id: switch_antiburn
    icon: mdi:television-shimmer
    optimistic: true
    entity_category: "config"
    disabled_by_default: true
    turn_on_action:
      - logger.log: "Starting Antiburn"
      - if:
          condition: lvgl.is_paused
          then:
            - lvgl.resume:
            - lvgl.widget.redraw:
      - lvgl.pause:
          show_snow: true
    turn_off_action:
      - logger.log: "Stopping Antiburn"
      - if:
          condition: lvgl.is_paused
          then:
            - lvgl.resume:
            - lvgl.widget.redraw:

##############################    IMAGES   ######################################


image:
  # BACKGROUND
  - file: "images/bedroom clock/background.png"
    id: bg_image
    type: RGB565
    resize: 800x480

  # WEATHER ICONS (Cleaned & Optimized)
  - file: "images/bedroom clock/weather/sunny.png"
    id: img_sunny
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75

  - file: "images/bedroom clock/weather/cloudy.png"
    id: img_cloudy
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75

  - file: "images/bedroom clock/weather/partlycloudy.png"
    id: img_partlycloudy
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75

  - file: "images/bedroom clock/weather/fog.png"
    id: img_fog
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75

  - file: "images/bedroom clock/weather/rainy.png"
    id: img_rainy
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75

  - file: "images/bedroom clock/weather/lightning.png"
    id: img_lightning
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75

  - file: "images/bedroom clock/weather/snowy.png"
    id: img_snowy
    type: RGB565
    transparency: alpha_channel
    dither: NONE
    resize: 75x75



####################  FONTS   ######################

font:
  - file: "gfonts://Montserrat"
    id: clock_font
    size: 90

  - file: "gfonts://Montserrat"
    id: temp_font_large
    size: 70

  - file: "gfonts://Montserrat"
    id: montserrat_48
    size: 48

  - file: "gfonts://Montserrat"
    id: montserrat_28
    size: 28

  - file: "gfonts://Montserrat"
    id: montserrat_20
    size: 20

  # - file: "gfonts://Noto Sans Symbols 2"
  #   id: weather_icon_font
  #   size: 52
  #   # Keep icons simple to avoid missing glyphs
  #   glyphs: "☀⛅☁☂⚡❄ "

# Pull time from Home Assistant
time:
  - platform: homeassistant
    id: ha_time
    on_time:
      - seconds: 0
        then:
          # CLOCK
          - lvgl.label.update:
              id: clock_label
              text: !lambda |-
                auto now = id(ha_time).now();
                char buffer[16];
                int hour = now.hour;
                bool pm = hour >= 12;

                if (hour == 0) hour = 12;
                else if (hour > 12) hour -= 12;

                sprintf(buffer, "%d:%02d %s",
                        hour,
                        now.minute,
                        pm ? "PM" : "AM");

                return std::string(buffer);

          # DAY NAME (Monday)
          - lvgl.label.update:
              id: date_day_label
              text: !lambda |-
                auto now = id(ha_time).now();
                const char* days[] = {
                  "Sunday","Monday","Tuesday",
                  "Wednesday","Thursday","Friday","Saturday"
                };
                return std::string(days[now.day_of_week - 1]);

          # FULL DATE (Feb 16, 2026)
          - lvgl.label.update:
              id: date_full_label
              text: !lambda |-
                auto now = id(ha_time).now();
                const char* months[] = {
                  "Jan","Feb","Mar","Apr","May","Jun",
                  "Jul","Aug","Sep","Oct","Nov","Dec"
                };
                char buffer[32];
                sprintf(buffer, "%s %d, %d",
                        months[now.month - 1],
                        now.day_of_month,
                        now.year);
                return std::string(buffer);

          # Day labels (Today, next two weekdays)
          - lvgl.label.update:
              id: day0_name
              text: !lambda |-
                auto now = id(ha_time).now();
                if (!now.is_valid()) return std::string("___");
                return std::string("Today");

          - lvgl.label.update:
              id: day1_name
              text: !lambda |-
                auto now = id(ha_time).now();
                if (!now.is_valid()) return std::string("___");
                const char* days[] = {"Sun","Mon","Tue","Wed","Thu","Fri","Sat"};
                int today = now.day_of_week - 1;
                return std::string(days[(today + 1) % 7]);

          - lvgl.label.update:
              id: day2_name
              text: !lambda |-
                auto now = id(ha_time).now();
                if (!now.is_valid()) return std::string("___");
                const char* days[] = {"Sun","Mon","Tue","Wed","Thu","Fri","Sat"};
                int today = now.day_of_week - 1;
                return std::string(days[(today + 2) % 7]);

sensor:
  - platform: homeassistant
    id: current_temp_sensor
    entity_id: sensor.current_weather_temp
    internal: true
    on_value:
      then:
        - lvgl.label.update:
            id: current_temp_label
            text: !lambda |-
              if (std::isnan(x)) return "---°";
              return str_sprintf("%.0f°", x);

  - platform: homeassistant
    id: day0_high
    entity_id: sensor.forecast_day0_high

  - platform: homeassistant
    id: day0_low
    entity_id: sensor.forecast_day0_low

  - platform: homeassistant
    id: day1_high
    entity_id: sensor.forecast_day1_high

  - platform: homeassistant
    id: day1_low
    entity_id: sensor.forecast_day1_low

  - platform: homeassistant
    id: day2_high
    entity_id: sensor.forecast_day2_high

  - platform: homeassistant
    id: day2_low
    entity_id: sensor.forecast_day2_low

text_sensor:
  - platform: homeassistant
    id: day0_cond
    entity_id: sensor.forecast_day0_condition
    on_value:
      then:
        - lambda: |-
            lv_img_dsc_t *img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            if (x == "sunny") img = (lv_img_dsc_t*)id(img_sunny)->get_lv_img_dsc();
            else if (x == "partlycloudy") img = (lv_img_dsc_t*)id(img_partlycloudy)->get_lv_img_dsc();
            else if (x == "cloudy" || x == "overcast") img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            else if (x == "fog") img = (lv_img_dsc_t*)id(img_fog)->get_lv_img_dsc();
            else if (x == "rainy" || x == "pouring") img = (lv_img_dsc_t*)id(img_rainy)->get_lv_img_dsc();
            else if (x == "lightning" || x == "lightning-rainy") img = (lv_img_dsc_t*)id(img_lightning)->get_lv_img_dsc();
            else if (x == "snowy" || x == "snowy-rainy") img = (lv_img_dsc_t*)id(img_snowy)->get_lv_img_dsc();
            
            lv_img_set_src(id(day0_icon_img), img);

  - platform: homeassistant
    id: day1_cond
    entity_id: sensor.forecast_day1_condition
    on_value:
      then:
        - lambda: |-
            lv_img_dsc_t *img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            if (x == "sunny") img = (lv_img_dsc_t*)id(img_sunny)->get_lv_img_dsc();
            else if (x == "partlycloudy") img = (lv_img_dsc_t*)id(img_partlycloudy)->get_lv_img_dsc();
            else if (x == "cloudy" || x == "overcast") img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            else if (x == "fog") img = (lv_img_dsc_t*)id(img_fog)->get_lv_img_dsc();
            else if (x == "rainy" || x == "pouring") img = (lv_img_dsc_t*)id(img_rainy)->get_lv_img_dsc();
            else if (x == "lightning" || x == "lightning-rainy") img = (lv_img_dsc_t*)id(img_lightning)->get_lv_img_dsc();
            else if (x == "snowy" || x == "snowy-rainy") img = (lv_img_dsc_t*)id(img_snowy)->get_lv_img_dsc();
            
            lv_img_set_src(id(day1_icon_img), img);

  - platform: homeassistant
    id: day2_cond
    entity_id: sensor.forecast_day2_condition
    on_value:
      then:
        - lambda: |-
            lv_img_dsc_t *img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            if (x == "sunny") img = (lv_img_dsc_t*)id(img_sunny)->get_lv_img_dsc();
            else if (x == "partlycloudy") img = (lv_img_dsc_t*)id(img_partlycloudy)->get_lv_img_dsc();
            else if (x == "cloudy" || x == "overcast") img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            else if (x == "fog") img = (lv_img_dsc_t*)id(img_fog)->get_lv_img_dsc();
            else if (x == "rainy" || x == "pouring") img = (lv_img_dsc_t*)id(img_rainy)->get_lv_img_dsc();
            else if (x == "lightning" || x == "lightning-rainy") img = (lv_img_dsc_t*)id(img_lightning)->get_lv_img_dsc();
            else if (x == "snowy" || x == "snowy-rainy") img = (lv_img_dsc_t*)id(img_snowy)->get_lv_img_dsc();
            
            lv_img_set_src(id(day2_icon_img), img);

  - platform: homeassistant
    id: current_cond
    entity_id: weather.forecast_home
    on_value:
      then:
        - lambda: |-
            lv_img_dsc_t *img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            if (x == "sunny" || x == "clear-night") img = (lv_img_dsc_t*)id(img_sunny)->get_lv_img_dsc();
            else if (x == "partlycloudy") img = (lv_img_dsc_t*)id(img_partlycloudy)->get_lv_img_dsc();
            else if (x == "cloudy" || x == "overcast") img = (lv_img_dsc_t*)id(img_cloudy)->get_lv_img_dsc();
            else if (x == "fog") img = (lv_img_dsc_t*)id(img_fog)->get_lv_img_dsc();
            else if (x == "rainy" || x == "pouring") img = (lv_img_dsc_t*)id(img_rainy)->get_lv_img_dsc();
            else if (x == "lightning" || x == "lightning-rainy") img = (lv_img_dsc_t*)id(img_lightning)->get_lv_img_dsc();         
            else if (x == "snowy" || x == "snowy-rainy") img = (lv_img_dsc_t*)id(img_snowy)->get_lv_img_dsc();
            
            lv_img_set_src(id(current_icon_img), img);




interval:
  - interval: 5min
    then:
      - lambda: |-
          auto set_temp = [&](lv_obj_t* label, float hi, float lo) {
            if (std::isnan(hi) || std::isnan(lo)) {
              lv_label_set_text(label, "-- / --");
              return;
            }
            char buffer[20];
            sprintf(buffer, "%.0f°/%.0f°", hi, lo);
            lv_label_set_text(label, buffer);
          };

          // Update day labels (optional here if you also do it in time.on_time)
          auto now = id(ha_time).now();
          if (now.is_valid()) {
            const char* days[] = {"Sun","Mon","Tue","Wed","Thu","Fri","Sat"};
            int today = now.day_of_week - 1;
            lv_label_set_text(id(day0_name), "Today");
            lv_label_set_text(id(day1_name), days[(today + 1) % 7]);
            lv_label_set_text(id(day2_name), days[(today + 2) % 7]);
          }

          // Temps
          set_temp(id(day0_temp), id(day0_high).state, id(day0_low).state);
          set_temp(id(day1_temp), id(day1_high).state, id(day1_low).state);
          set_temp(id(day2_temp), id(day2_high).state, id(day2_low).state);


#######################################################
#                     LVGL UI
#######################################################

lvgl:
  disp_bg_color: 0x000000
  buffer_size: 20%

  pages:
    - id: main_page
      widgets:
        # LAYER 1: Master Container
        - obj:
            width: 100%
            height: 100%
            pad_all: 0
            bg_opa: TRANSP
            border_width: 0
            scrollbar_mode: "OFF"
            scrollable: false
            widgets:
              
              # LAYER 2: Safety Background
              - obj:
                  id: bg_fill
                  width: 100%
                  height: 100%
                  bg_color: 0x000000
                  bg_opa: 100%
                  border_width: 0

              # LAYER 3: Background Wallpaper
              - image:
                  id: bg_img
                  src: bg_image
                  width: 100%
                  height: 100%

              # LAYER 4: Foreground UI
              - obj:
                  width: 100%
                  height: 100%
                  pad_all: 0
                  bg_opa: TRANSP
                  scrollbar_mode: "OFF"
                  scrollable: false
                  layout:
                    type: flex
                    flex_align_main: CENTER
                    flex_align_cross: CENTER
                  widgets:
                    - obj:
                        width: 100%
                        height: 100%
                        pad_all: 0
                        bg_opa: 0%
                        bg_color: 0x000000
                        scrollbar_mode: "OFF"
                        scrollable: false

                        layout:
                          type: grid
                          grid_columns: ["75%", "25%"]
                          grid_rows: [160, 240, 80]
                        widgets:

                          # TOP LEFT: CLOCK
                          - obj:
                              id: clock_card
                              grid_cell_row_pos: 0
                              grid_cell_column_pos: 0
                              grid_cell_x_align: STRETCH
                              grid_cell_y_align: STRETCH
                              pad_all: 0
                              bg_opa: TRANSP
                              border_width: 4
                              border_color: 0x00FF00
                              border_opa: 100%
                              layout:
                                type: flex
                                flex_align_main: CENTER
                                flex_align_cross: CENTER
                              widgets:
                                - label:
                                    id: clock_label
                                    text: "--:--"
                                    text_font: clock_font
                                    text_color: 0xFFFFFF



                          # TOP RIGHT: DATE
                          - obj:
                              id: date_card
                              grid_cell_row_pos: 0
                              grid_cell_column_pos: 1
                              grid_cell_x_align: STRETCH
                              grid_cell_y_align: STRETCH
                              pad_all: 0
                              bg_opa: TRANSP
                              border_width: 4
                              border_color: 0xFF0000
                              border_opa: 100%
                              layout:
                                type: flex
                                flex_flow: column
                                flex_align_main: CENTER
                                flex_align_cross: CENTER
                              widgets:
                                - label:
                                    id: date_day_label
                                    width: 100%
                                    text: "Monday"
                                    text_font: montserrat_28
                                    text_color: 0xFFFFFF
                                    text_align: CENTER

                                - label:
                                    id: date_full_label
                                    width: 100%
                                    text: "Feb 16, 2026"
                                    text_font: montserrat_20
                                    text_color: 0xFFFFFF
                                    text_align: CENTER



                          # ROW 1 LEFT: FORECAST WRAPPER
                          - obj:
                              id: forecast_wrapper
                              grid_cell_row_pos: 1
                              grid_cell_column_pos: 0
                              grid_cell_x_align: STRETCH
                              grid_cell_y_align: STRETCH
                              pad_top: 0
                              pad_bottom: 0
                              pad_left: 5
                              pad_right: 5
                              radius: 18
                              bg_color: 0x000000
                              bg_opa: 20%
                              border_width: 4
                              border_color: 0x0000FF
                              border_opa: 100%
                              layout:
                                type: flex
                                flex_flow: row
                                flex_align_main: SPACE_BETWEEN
                                flex_align_cross: STRETCH


                              widgets:


                                # DAY 0
                                - obj:
                                    id: day0_card
                                    width: 22%
                                    height: 100%
                                    pad_all: 0
                                    radius: 16
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 4
                                    border_color: 0xFFFF00
                                    border_opa: 100%
                                    outline_width: 0
                                    shadow_width: 0
                                    layout:
                                      type: flex
                                      flex_flow: column
                                      flex_align_main: SPACE_EVENLY
                                      flex_align_cross: CENTER
                                    widgets:
                                      - label:
                                          id: day0_name
                                          width: 100%
                                          text: "Today"
                                          text_font: montserrat_20
                                          text_color: 0xFFFFFF
                                          text_align: CENTER
                                      - image:
                                          id: day0_icon_img
                                          src: img_cloudy
                                      - label:
                                          id: day0_temp
                                          width: 100%
                                          text: "--°/--°"
                                          text_font: montserrat_28
                                          text_color: 0xFFFFFF
                                          text_align: CENTER

                                # DAY 1
                                - obj:
                                    id: day1_card
                                    width: 22%
                                    height: 100%
                                    pad_all: 0
                                    radius: 16
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 4
                                    border_color: 0x800080
                                    border_opa: 100%
                                    outline_width: 0
                                    shadow_width: 0
                                    layout:
                                      type: flex
                                      flex_flow: column
                                      flex_align_main: SPACE_EVENLY
                                      flex_align_cross: CENTER
                                    widgets:
                                      - label:
                                          id: day1_name
                                          width: 100%
                                          text: "---"
                                          text_font: montserrat_20
                                          text_color: 0xFFFFFF
                                          text_align: CENTER
                                      - image:
                                          id: day1_icon_img
                                          src: img_cloudy
                                      - label:
                                          id: day1_temp
                                          width: 100%
                                          text: "--°/--°"
                                          text_font: montserrat_28
                                          text_color: 0xFFFFFF
                                          text_align: CENTER

                                # DAY 2
                                - obj:
                                    id: day2_card
                                    width: 22%
                                    height: 100%
                                    pad_all: 0
                                    radius: 16
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 4
                                    border_color: 0xFF0000
                                    border_opa: 100%
                                    outline_width: 0
                                    shadow_width: 0
                                    layout:
                                      type: flex
                                      flex_flow: column
                                      flex_align_main: SPACE_EVENLY
                                      flex_align_cross: CENTER
                                    widgets:
                                      - label:
                                          id: day2_name
                                          width: 100%
                                          text: "---"
                                          text_font: montserrat_20
                                          text_color: 0xFFFFFF
                                          text_align: CENTER
                                      - image:
                                          id: day2_icon_img
                                          src: img_cloudy
                                      - label:
                                          id: day2_temp
                                          width: 100%
                                          text: "--°/--°"
                                          text_font: montserrat_28
                                          text_color: 0xFFFFFF
                                          text_align: CENTER

                                # DAY 3
                                - obj:
                                    id: day3_card
                                    width: 22%
                                    height: 100%
                                    pad_all: 0
                                    radius: 16
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 4
                                    border_color: 0xFF0000
                                    border_opa: 100%
                                    outline_width: 0
                                    shadow_width: 0
                                    layout:
                                      type: flex
                                      flex_flow: column
                                      flex_align_main: SPACE_EVENLY
                                      flex_align_cross: CENTER
                                    widgets:
                                      - label:
                                          id: day3_name
                                          width: 100%
                                          text: "---"
                                          text_font: montserrat_20
                                          text_color: 0xFFFFFF
                                          text_align: CENTER
                                      - image:
                                          id: day3_icon_img
                                          src: img_cloudy
                                      - label:
                                          id: day3_temp
                                          width: 100%
                                          text: "--°/--°"
                                          text_font: montserrat_28
                                          text_color: 0xFFFFFF
                                          text_align: CENTER



                          # ROW 1 RIGHT: CURRENT TEMP + CURRENT ICON 
                          - obj:
                              id: current_card
                              grid_cell_row_pos: 1
                              grid_cell_column_pos: 1
                              grid_cell_x_align: CENTER
                              grid_cell_y_align: CENTER
                              pad_all: 0
                              bg_opa: TRANSP
                              border_width: 4
                              border_color: 0xFFA500
                              border_opa: 100%
                              layout:
                                type: flex
                                flex_flow: column
                                flex_align_main: CENTER
                                flex_align_cross: CENTER
                              widgets:                         
                                - obj:
                                    width: 100%
                                    height: 100%
                                    pad_all: 0
                                    radius: 20
                                    bg_opa: TRANSP
                                    border_width: 0
                                    shadow_width: 0
                                    layout:
                                      type: flex
                                      flex_flow: column
                                      flex_align_main: CENTER
                                      flex_align_cross: CENTER
                                    widgets:
                                      - image:
                                          id: current_icon_img
                                          src: img_sunny
                                      - label:
                                          id: current_temp_label
                                          text: "--°"
                                          text_font: temp_font_large
                                          text_color: 0xFFFFFF

                          # BOTTOM ROW: SQUARES
                          - obj:
                              grid_cell_row_pos: 2
                              grid_cell_column_pos: 0
                              grid_cell_column_span: 2
                              width: 760
                              height: 80
                              pad_all: 0
                              bg_opa: TRANSP
                              border_width: 0
                              outline_width: 0
                              outline_opa: 0%
                              shadow_width: 0
                              layout:
                                type: flex
                                flex_flow: row
                                flex_align_main: SPACE_EVENLY
                                flex_align_cross: CENTER
                              widgets:
                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0

                                - obj:
                                    width: 60
                                    height: 60
                                    pad_all: 0
                                    radius: 14
                                    bg_color: 0x000000
                                    bg_opa: 18%
                                    border_width: 2
                                    outline_width: 0
                                    outline_opa: 0%
                                    shadow_width: 0


########################################################     Don't Change Anything Below   #####################################################

### Display
display:
  - platform: mipi_rgb
    model: ESP32-S3-TOUCH-LCD-7-800X480
    id: waveshare_display
    update_interval: never
    auto_clear_enabled: false
    color_order: RGB
    pclk_frequency: 16MHZ
    dimensions:
      width: 800
      height: 480
    de_pin:
      number: 5
    hsync_pin:
      number: 46
      ignore_strapping_warning: true
    vsync_pin:
      number: 3
      ignore_strapping_warning: true
    pclk_pin: 7
    pclk_inverted: true
    reset_pin:
      ch422g: ch422g_hub
      number: 3
    hsync_back_porch: 8
    hsync_front_porch: 8
    hsync_pulse_width: 4
    vsync_back_porch: 16
    vsync_front_porch: 16
    vsync_pulse_width: 4
    data_pins:
      red:
        - 1         #r3
        - 2         #r4
        - 42        #r5
        - 41        #r6
        - 40        #r7
      blue:
        - 14        #b3
        - 38        #b4
        - 18        #b5
        - 17        #b6
        - 10        #b7
      green:
        - 39        #g2
        - 0         #g3
        - 45        #g4
        - 48        #g5
        - 47        #g6
        - 21        #g7


### Touchscreen
touchscreen:
  platform: gt911
  id: waveshare_touch
  interrupt_pin: GPIO4
  reset_pin:
    ch422g: ch422g_hub
    number: 1
    mode: OUTPUT
